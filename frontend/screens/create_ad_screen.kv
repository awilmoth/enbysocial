<CreateAdScreen>:
    content_field: content_field

    MDBoxLayout:
        orientation: 'vertical'
        spacing: dp(16)

        # Top App Bar
        MDTopAppBar:
            title: "Create Personal Ad"
            left_action_items: [["arrow-left", lambda x: root.cancel_creation()]]
            elevation: 2

        # Main Content
        MDBoxLayout:
            orientation: 'vertical'
            padding: dp(16)
            spacing: dp(16)

            MDLabel:
                text: "What's on your mind?"
                theme_text_color: "Primary"
                font_style: "H6"
                adaptive_height: True

            MDTextField:
                id: content_field
                multiline: True
                max_height: "200dp"
                hint_text: "Share your thoughts..."
                helper_text: "Your location will be automatically added"
                helper_text_mode: "persistent"
                mode: "rectangle"

            Widget:
                size_hint_y: 0.5

            MDBoxLayout:
                adaptive_height: True
                spacing: dp(10)
                padding: [0, dp(20), 0, 0]

                Widget:
                    size_hint_x: 0.5

                MDRaisedButton:
                    text: "Cancel"
                    on_release: root.cancel_creation()
                    size_hint_x: 0.25

                MDRaisedButton:
                    text: "Post"
                    on_release: root.create_ad()
                    md_bg_color: app.theme_cls.primary_color
                    size_hint_x: 0.25

            Widget:
                size_hint_y: 0.5

        # Location Status
        MDBoxLayout:
            adaptive_height: True
            padding: [dp(16), dp(8)]
            
            MDIcon:
                icon: "map-marker"
                theme_text_color: "Secondary"
                size_hint_x: None
                width: dp(24)
            
            MDLabel:
                text: "Location services active"
                theme_text_color: "Secondary"
                font_style: "Caption"
